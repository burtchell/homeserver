---
- hosts: all
  become: yes

  roles:
    # basics
    - role: system
      tags:
        - system
    - role: docker
      tags:
        - docker
    - role: mounts
      tags:
        - mounts

    # security

    # containers
    - role: containers/jellyfin
      become: no
      tags:
        - jellyfin
        - containers
      when: enable_jellyfin | default(False)

    - role: containers/deluge
      become: no
      tags:
        - deluge
        - containers
      when: enable_deluge | default(False)

    - role: containers/radarr
      become: no
      tags:
        - radarr
        - containers
      when: enable_radarr | default(False)

    - role: containers/sonarr
      become: no
      tags:
        - sonarr
        - containers
      when: enable_sonarr | default(False)

    - role: containers/jackett
      become: no
      tags:
        - jackett
        - containers
      when: enable_jackett | default(False)
